# wbL1

1. Встраивание структур







			1
			2
			3
4
			5
			6
			7
			8
			9
10
11
12
			13
			14
15
16
			17
			18
			19
			20
21
			22
			23
			24
25
			26


### RWMutex

RWMutex нужен, когда у нас есть объект, который нельзя параллельно писать,
но можно параллельно читать. Например, стандартный тип map.
С помощью RWMutex обеспечивается параллельное чтение объекта несколькими
горутинами, что улучшает производительность.

Перед записью в защищаемый мьютексом объект делается .Lock(), а вызовы .Lock() и .RLock()
в других горутинах будут ждать, пока вы не отпустите мьютекс через .Unlock().
Перед чтением защищаемого объекта делается .RLock() и только вызовы .Lock()
в другихгорутинах блокируются, вызовы .RLock() спокойно проходят. Когда отпускаете
мьютекс через .RUnlock(), ждущие вызовы .Lock() по-очереди могут забирать мьютекс на себя.